(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{255:(e,t,a)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),a(5155),a(7650),a(5744),a(589)},506:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var n=a(5155),r=a(2115),i=a(5695),l=a(9932),s=a(7550),o=a(9946);let c=(0,o.A)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);var d=a(5196),u=a(4357);let h=(0,o.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),p=(0,o.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var x=a(6645);let y=a.n(x)()(()=>Promise.all([a.e(825),a.e(84),a.e(874),a.e(986),a.e(790)]).then(a.bind(a,6790)),{loadableGenerated:{webpack:()=>[6790]},ssr:!1,loading:()=>(0,n.jsxs)("div",{className:"text-center py-16 px-4",children:[(0,n.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-500 border-r-transparent"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"載入 PDF 瀏覽器中..."})]})});function m(e){let{course:t,semester:a,id:o}=e,x=(0,i.useRouter)(),[m,f]=(0,r.useState)(!1),[b,g]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),j=()=>{x.push("/course/".concat(a,"/").concat(o))},_=()=>{navigator.clipboard.writeText(window.location.href),w(!0),setTimeout(()=>w(!1),2e3)},P="https://ndhu-course-syllabus-proxy.yccccccccccc.workers.dev/?sqlid=".concat(t.sql_id);return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)(l.P.div,{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-md border-b border-gray-200/50 shadow-sm",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 max-w-6xl mx-auto",children:[(0,n.jsxs)(l.P.div,{className:"flex items-center",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[(0,n.jsx)(l.P.button,{onClick:j,className:"mr-4 p-2 hover:bg-indigo-50 rounded-lg flex items-center justify-center cursor-pointer transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"返回課程頁面",children:(0,n.jsx)(s.A,{className:"h-5 w-5 text-indigo-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,n.jsx)(c,{className:"h-5 w-5 mr-2 text-indigo-600"}),t.course_name]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["教學計劃表 • ",t.course_id]})]})]}),(0,n.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:"relative flex items-center space-x-2",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(l.P.button,{onClick:_,className:"p-2 hover:bg-indigo-50 rounded-lg flex items-center justify-center transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:v?(0,n.jsx)(d.A,{className:"h-5 w-5 text-emerald-600"}):(0,n.jsx)(u.A,{className:"h-5 w-5 text-indigo-600"})}),b&&!v&&(0,n.jsx)(l.P.div,{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 bg-gray-800 text-white text-xs rounded-lg px-2 py-1 whitespace-nowrap",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:"複製連結"}),v&&(0,n.jsx)(l.P.div,{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 bg-emerald-600 text-white text-xs rounded-lg px-2 py-1 whitespace-nowrap",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:"已複製！"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(l.P.a,{href:t.teaching_plan_link,target:"_blank",download:"".concat(t.course_name,"-教學計劃表.pdf"),className:"p-2 hover:bg-indigo-50 rounded-lg flex items-center justify-center transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:(0,n.jsx)(h,{className:"h-5 w-5 text-indigo-600"})}),m&&(0,n.jsx)(l.P.div,{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 bg-gray-800 text-white text-xs rounded-lg px-2 py-1 whitespace-nowrap",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:"下載 PDF"})]})]})]})}),(0,n.jsx)(l.P.div,{className:"max-w-6xl mx-auto p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,n.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 overflow-hidden",children:(0,n.jsx)(y,{url:P,teaching_plan_link:t.teaching_plan_link})})}),(0,n.jsxs)(l.P.div,{className:"fixed bottom-6 right-6 z-20 flex flex-col gap-3",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1,type:"spring"},children:[(0,n.jsx)(l.P.a,{href:t.teaching_plan_link,target:"_blank",className:"bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-3 shadow-lg flex items-center cursor-pointer transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,n.jsx)(h,{className:"h-5 w-5"})}),(0,n.jsx)(l.P.button,{onClick:_,className:"".concat(v?"bg-emerald-600 hover:bg-emerald-700":"bg-indigo-600 hover:bg-indigo-700"," text-white rounded-full p-3 shadow-lg flex items-center cursor-pointer transition-colors"),whileHover:{scale:1.1},whileTap:{scale:.9},children:v?(0,n.jsx)(d.A,{className:"h-5 w-5"}):(0,n.jsx)(u.A,{className:"h-5 w-5"})}),(0,n.jsx)(l.P.button,{onClick:j,className:"bg-gray-600 hover:bg-gray-700 text-white rounded-full p-3 shadow-lg flex items-center cursor-pointer transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,n.jsx)(p,{className:"h-5 w-5"})})]})]})}},2146:(e,t,a)=>{"use strict";function n(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),a(5262)},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return i},createSnapshot:function(){return s}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let r="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function i(){return r?new r:new n}function l(e){return r?r.bind(e):n.bind(e)}function s(){return r?r.snapshot():function(e,...t){return e(...t)}}},4357:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(9946).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},5196:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5695:(e,t,a)=>{"use strict";var n=a(8999);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}})},5744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=a(7828)},6645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let n=a(8229)._(a(7357));function r(e,t){var a;let r={};"function"==typeof e&&(r.loader=e);let i={...r,...t};return(0,n.default)({...i,modules:null==(a=i.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=a(5155),r=a(2115),i=a(2146);function l(e){return{default:e&&"default"in e?e.default:e}}a(255);let s={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...s,...e},a=(0,r.lazy)(()=>t.loader().then(l)),o=t.loading;function c(e){let l=o?(0,n.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,c=s?r.Suspense:r.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(a,{...e})]}):(0,n.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(a,{...e})});return(0,n.jsx)(c,{...s?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},7550:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,a(4054).createAsyncLocalStorage)()},8408:(e,t,a)=>{Promise.resolve().then(a.bind(a,506))}},e=>{var t=t=>e(e.s=t);e.O(0,[341,441,684,358],()=>t(8408)),_N_E=e.O()}]);