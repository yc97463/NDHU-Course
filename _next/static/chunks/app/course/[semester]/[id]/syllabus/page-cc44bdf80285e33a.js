(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{255:(e,t,a)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),a(5155),a(7650),a(5744),a(589)},2146:(e,t,a)=>{"use strict";function r(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),a(5262)},3212:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var r=a(5155),n=a(2115),l=a(5695),s=a(9932),i=a(9946);let o=(0,i.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),c=(0,i.A)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);var u=a(5196),d=a(4357);let h=(0,i.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),p=(0,i.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var f=a(6645);let x=a.n(f)()(()=>Promise.all([a.e(825),a.e(84),a.e(874),a.e(986),a.e(790)]).then(a.bind(a,6790)),{loadableGenerated:{webpack:()=>[6790]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"text-center py-16 px-4",children:[(0,r.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-500 border-r-transparent"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"載入 PDF 瀏覽器中..."})]})});function m(e){let{course:t,semester:a,id:i}=e,f=(0,l.useRouter)(),[m,y]=(0,n.useState)(!1),[b,g]=(0,n.useState)(!1),[w,v]=(0,n.useState)(!1),j=()=>{f.push("/course/".concat(a,"/").concat(i))},k=()=>{navigator.clipboard.writeText(window.location.href),v(!0),setTimeout(()=>v(!1),2e3)},_="https://ndhu-course-syllabus-proxy.yccccccccccc.workers.dev/?sqlid=".concat(t.sql_id);return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50",children:[(0,r.jsx)(s.P.div,{className:"sticky top-0 z-10 bg-white border-b shadow-sm",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 max-w-4xl mx-auto",children:[(0,r.jsxs)(s.P.div,{className:"flex items-center",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[(0,r.jsx)(s.P.button,{onClick:j,className:"mr-4 p-2 hover:bg-gray-100 rounded-full flex items-center justify-center cursor-pointer",whileHover:{scale:1.1,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.9},"aria-label":"返回課程頁面",children:(0,r.jsx)(o,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[(0,r.jsx)(c,{className:"h-5 w-5 mr-2 text-blue-600"}),t.course_name]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["教學計劃表 • ",t.course_id]})]})]}),(0,r.jsxs)(s.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:"relative flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(s.P.button,{onClick:k,className:"p-2 hover:bg-blue-50 rounded-full flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:w?(0,r.jsx)(u.A,{className:"h-5 w-5 text-green-600"}):(0,r.jsx)(d.A,{className:"h-5 w-5 text-blue-600"})}),b&&!w&&(0,r.jsx)(s.P.div,{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:"複製連結"}),w&&(0,r.jsx)(s.P.div,{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 bg-green-600 text-white text-xs rounded px-2 py-1 whitespace-nowrap",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:"已複製！"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(s.P.a,{href:t.teaching_plan_link,target:"_blank",download:"".concat(t.course_name,"-教學計劃表.pdf"),className:"p-2 hover:bg-blue-50 rounded-full flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:(0,r.jsx)(h,{className:"h-5 w-5 text-blue-600"})}),m&&(0,r.jsx)(s.P.div,{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:"下載 PDF"})]})]})]})}),(0,r.jsx)(s.P.div,{className:"max-w-4xl mx-auto p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,r.jsx)(x,{url:_,teaching_plan_link:t.teaching_plan_link})}),(0,r.jsxs)(s.P.div,{className:"fixed bottom-6 right-6 z-20 space-y-2",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1,type:"spring"},children:[(0,r.jsx)(s.P.a,{href:t.teaching_plan_link,target:"_blank",className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg flex items-center cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(h,{className:"h-5 w-5"})}),(0,r.jsx)(s.P.button,{onClick:k,className:"".concat(w?"bg-green-600":"bg-blue-600 hover:bg-blue-700"," text-white rounded-full p-3 shadow-lg flex items-center cursor-pointer"),whileHover:{scale:1.1},whileTap:{scale:.9},children:w?(0,r.jsx)(u.A,{className:"h-5 w-5"}):(0,r.jsx)(d.A,{className:"h-5 w-5"})}),(0,r.jsx)(s.P.button,{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg flex items-center cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(p,{className:"h-5 w-5"})})]})]})}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return i}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return n?new n:new r}function s(e){return n?n.bind(e):r.bind(e)}function i(){return n?n.snapshot():function(e,...t){return e(...t)}}},4357:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},5196:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},5744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=a(7828)},6645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let r=a(8229)._(a(7357));function n(e,t){var a;let n={};"function"==typeof e&&(n.loader=e);let l={...n,...t};return(0,r.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=a(5155),n=a(2115),l=a(2146);function s(e){return{default:e&&"default"in e?e.default:e}}a(255);let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},a=(0,n.lazy)(()=>t.loader().then(s)),o=t.loading;function c(e){let s=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?n.Suspense:n.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...i?{fallback:s}:{},children:u})}return c.displayName="LoadableComponent",c}},7828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,a(4054).createAsyncLocalStorage)()},8408:(e,t,a)=>{Promise.resolve().then(a.bind(a,3212))},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(2115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:d,...h}=e;return(0,r.createElement)("svg",{ref:t,...s,width:n,height:n,stroke:a,strokeWidth:o?24*Number(i)/Number(n):i,className:l("lucide",c),...h},[...d.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),o=(e,t)=>{let a=(0,r.forwardRef)((a,s)=>{let{className:o,...c}=a;return(0,r.createElement)(i,{ref:s,iconNode:t,className:l("lucide-".concat(n(e)),o),...c})});return a.displayName="".concat(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[932,441,684,358],()=>t(8408)),_N_E=e.O()}]);