(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1267:(e,s,t)=>{Promise.resolve().then(t.bind(t,6124))},5196:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6124:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(5155),a=t(6072),i=t(2115),l=t(9932),n=t(6874),c=t.n(n),d=t(5040);let o=(0,t(9946).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function x(e){let{courses:s,semester:t}=e;return 0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(d.A,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到課程"}),(0,r.jsx)("p",{className:"text-gray-500",children:"這個學期暫時沒有可用的課程資料"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e,s)=>(0,r.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s,duration:.3},children:(0,r.jsx)(c(),{href:"/course/".concat(t,"/").concat(e.id),children:(0,r.jsxs)(l.P.div,{className:"group relative bg-white border border-gray-200 rounded-xl p-4 hover:border-indigo-300 hover:shadow-md transition-all duration-200 cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-indigo-600 rounded-full flex-shrink-0"}),(0,r.jsx)("span",{className:"text-xs font-medium text-indigo-600 uppercase tracking-wide",children:e.id})]}),(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-700 transition-colors",children:e.name.length>30?e.name.substring(0,30)+"...":e.name})]}),(0,r.jsx)(l.P.div,{className:"flex-shrink-0 ml-3 opacity-0 group-hover:opacity-100 transition-opacity",whileHover:{x:2},children:(0,r.jsx)(o,{className:"w-4 h-4 text-indigo-600"})})]}),(0,r.jsx)("div",{className:"absolute inset-0 bg-indigo-50/50 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity -z-10"})]})})},e.id))})}function m(e){let{semesterData:s}=e;return(0,r.jsx)("div",{className:"space-y-8",children:s.map((e,s)=>(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s,duration:.5},className:"bg-white rounded-2xl shadow-sm border border-gray-200/50 overflow-hidden hover:shadow-md transition-all duration-300",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-indigo-600 rounded-full"}),(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[e.semester," 學期"]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-700",children:[e.courses.length," 門課程"]})})]})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)(x,{courses:e.courses,semester:e.semester})})]},e.semester))})}var h=t(760),u=t(9074),g=t(6474),j=t(5196);let p=e=>fetch(e).then(e=>e.json()),f=e=>{let{onSelect:s,selectedSemesters:t}=e,[n,c]=(0,i.useState)(!1),{data:d,error:o,isLoading:x}=(0,a.Ay)("https://yc97463.github.io/ndhu-course-crawler/semester.json",p),m=d?d.filter(e=>{let[s,t]=e.split("-");return 2>=parseInt(t)&&parseInt(s)>=105}).sort((e,s)=>{let[t,r]=e.split("-").map(Number),[a,i]=s.split("-").map(Number);return a===t?i-r:a-t}):[];return(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(l.P.button,{onClick:()=>c(!n),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200",whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(u.A,{className:"w-5 h-5 text-indigo-600"})}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:0===t.length?"選擇學期":"已選擇 ".concat(t.length," 個學期")}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:t.length>0&&t.slice(0,2).join(", ")+(t.length>2?" 等 ".concat(t.length," 個"):"")})]})]}),(0,r.jsx)(l.P.div,{animate:{rotate:180*!!n},transition:{duration:.2},className:"flex-shrink-0",children:(0,r.jsx)(g.A,{className:"w-5 h-5 text-gray-400"})})]}),(0,r.jsx)(h.N,{children:n&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute z-20 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-80 overflow-y-auto",children:x?(0,r.jsxs)("div",{className:"p-4 text-center",children:[(0,r.jsx)("div",{className:"animate-spin w-6 h-6 border-2 border-indigo-600 border-t-transparent rounded-full mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"載入中..."})]}):o?(0,r.jsxs)("div",{className:"p-4 text-center",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("p",{className:"text-sm text-red-600",children:"無法載入學期資料"})]}):(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-100",children:"可選學期"}),m.map(e=>{let a=t.includes(e);return(0,r.jsxs)(l.P.button,{onClick:()=>{s(e)},className:"w-full flex items-center justify-between px-4 py-3 text-left hover:bg-gray-50 transition-colors ".concat(a?"bg-indigo-50 text-indigo-700":"text-gray-700"),whileHover:{backgroundColor:a?"#e0e7ff":"#f9fafb"},children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(a?"bg-indigo-600":"bg-gray-300")}),(0,r.jsxs)("span",{className:"font-medium",children:[e," 學期"]})]}),a&&(0,r.jsx)(l.P.div,{initial:{scale:0},animate:{scale:1},className:"flex-shrink-0",children:(0,r.jsx)(j.A,{className:"w-4 h-4 text-indigo-600"})})]},e)})]})})}),n&&(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)})]})})},y="ndhu-course-selected-semesters";function v(){let[e,s]=(0,i.useState)([]),[t,l]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=localStorage.getItem(y);e&&s(JSON.parse(e))},[]);let n=(0,a.Ay)(()=>0===e.length?null:"semester-courses-".concat(e.join(",")),async()=>{let s={};return await Promise.all(e.map(async e=>{try{let t=await fetch("https://yc97463.github.io/ndhu-course-crawler/".concat(e,"/main.json"));if(!t.ok)throw Error("Failed to fetch courses for semester ".concat(e));let r=await t.json();s[e]=Object.entries(r).map(e=>{let[s,t]=e;return{id:s,name:t.course_name||s}})}catch(t){console.error("Error fetching data for semester ".concat(e,":"),t),s[e]=[]}})),s});return(0,i.useEffect)(()=>{n.data&&l(e.map(e=>{var s;return{semester:e,courses:(null===(s=n.data)||void 0===s?void 0:s[e])||[]}}))},[e,n.data]),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"探索課程"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"選擇學期，瀏覽課程，建立您的專屬時刻表"})]}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(f,{onSelect:e=>{s(s=>{let t=s.includes(e)?s.filter(s=>s!==e):[...s,e];return localStorage.setItem(y,JSON.stringify(t)),t})},selectedSemesters:e})}),n.isLoading&&e.length>0&&(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full"})}),(0,r.jsx)("p",{className:"text-gray-600 font-medium",children:"載入課程資料中..."})]}),n.error&&(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"載入失敗"}),(0,r.jsx)("p",{className:"text-gray-600",children:"載入課程資料時發生錯誤，請稍後再試"})]}),0===e.length&&(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"選擇學期開始探索"}),(0,r.jsx)("p",{className:"text-gray-600",children:"請選擇一個或多個學期以查看課程列表"})]}),t.length>0&&(0,r.jsx)(m,{semesterData:t})]})})}function N(){return(0,r.jsx)(a.BE,{value:{revalidateOnFocus:!1,errorRetryCount:3},children:(0,r.jsx)(v,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[341,874,938,441,684,358],()=>s(1267)),_N_E=e.O()}]);